services:
    Sidus\EAVModelBundle\Profiler\ModelConfigurationDataCollector:
        arguments:
            - '@Sidus\EAVModelBundle\Registry\FamilyRegistry'
            - '@Sidus\EAVModelBundle\Registry\AttributeTypeRegistry'
        tags:
            - { name: data_collector, id: sidus_eav_model, template: "@SidusEAVModel/Profiler/sidus_eav_model.html.twig" }

    Sidus\EAVModelBundle\Profiler\DataLoaderCollector:
        tags:
            - { name: data_collector, id: sidus_data_loader, template: "@SidusEAVModel/Profiler/sidus_data_collector.html.twig" }

    # Let's keep this disable for the moment until we have a nice UI to show the data
#    Sidus\EAVModelBundle\Profiler\QueryBuilderCollector:
#        tags:
#        - { name: data_collector, id: sidus_query_builder_collector, template: "@SidusEAVModel/Profiler/sidus_query_builder_collector.html.twig" }

    # Overrides base DataLoader services
    Sidus\EAVModelBundle\Doctrine\OptimizedDataLoader:
        class: Sidus\EAVModelBundle\Doctrine\Debug\DebugDataLoader
        arguments:
            - '@Sidus\BaseBundle\Doctrine\RepositoryFinder'
